<div class="container p-4">

  <div class="row justify-content-center">
    <div class="col-md-4">

      <div class="card">

  <div class="card-body position-relative">
    <h5 class="card-title text-center">Login</h5>
    <div *ngIf="submitting" class="submitting-spinner" >
      <mat-progress-spinner diameter="30"   mode="indeterminate"></mat-progress-spinner>
    </div>
    <form [style.opacity]="submitting ? 0.7 : 1" class="mt-4 justify-content-center" action="" [formGroup]="loginForm" (ngSubmit)="onSubmit()">

      {{ error }}

 <div class="form-group">

    <mat-form-field >
    <mat-label>Email</mat-label>

    <input matInput formControlName="email" type="email" name="email" placeholder="user@example.com" required>
    <mat-error *ngIf="email.invalid && (email.dirty || email.touched)">
        <p *ngIf="email.errors.required || email.errors.invalidPattern">
            A valid email is required
        </p>
    </mat-error>
  </mat-form-field>
 </div>


<div class="form-group">
   <mat-form-field >
 <mat-label>Password</mat-label>
  <input matInput formControlName="password" type="password" name="password" required>
    <mat-error *ngIf="password.invalid && (password.dirty || password.touched)">
        <span *ngIf='password.errors.required; else lengthBlock'>
            Password is required
        </span>
         <ng-template #lengthBlock>
                    <span *ngIf='password.errors.minlength'>
            Password must be at least 8 characters
            </span>
                   <span *ngIf='password.errors.invalidPattern'>
            Password should have ...
        </span>
         </ng-template>


    </mat-error>
     </mat-form-field>
</div>


  <button class="w-100 p-1" color="primary" mat-flat-button type="submit" [disabled]="!loginForm.valid || submitting">Login</button>
</form>
  </div>
</div>


    </div>
  </div>
</div>
